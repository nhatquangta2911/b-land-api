- pipeline: 'Production '
  trigger_mode: 'ON_EVERY_PUSH'
  ref_name: 'ci/cd'
  ref_type: 'BRANCH'
  trigger_condition: 'ALWAYS'
  actions:
    - action: 'Execute: yarn start'
      type: 'BUILD'
      working_directory: '/buddy/b-land-api'
      docker_image_name: 'library/node'
      docker_image_tag: '10'
      execute_commands:
        - 'yarn install'
        - 'yarn run test'
      setup_commands:
        - 'npm install -g gulp grunt-cli'
      mount_filesystem_path: '/buddy/b-land-api'
      shell: 'BASH'
      trigger_condition: 'ALWAYS'
    - action: 'Upload files to 18.136.124.94'
      type: 'SFTP'
      input_type: 'SCM_REPOSITORY'
      local_path: '../'
      login: 'ubuntu'
      password: 'secure!fTl0Pv+WK1Kqj7RBbSC8Wg=='
      host: '18.136.124.94'
      port: '22'
      authentication_mode: 'PASS'
  variables:
    - key: 'DATABASE'
      value: 'b-land'
      id: 274297
      description: ''
